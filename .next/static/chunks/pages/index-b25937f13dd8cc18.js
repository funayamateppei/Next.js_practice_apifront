(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return __webpack_require__(8287)}])},5190:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return useAuth}});var swr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8100),_lib_axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5814),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7294),next_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1163);let useAuth=function(){let{middleware,redirectIfAuthenticated}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},router=(0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)(),{data:user,error,mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_0__.ZP)("/api/user",()=>_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.get("/api/user").then(res=>res.data).catch(error=>{if(409!==error.response.status)throw error;router.push("/verify-email")})),csrf=()=>_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.get("sanctum/csrf-cookie"),register=async param=>{let{setErrors,...props}=param;await csrf(),setErrors([]),_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/register",props).then(()=>mutate()).catch(error=>{if(422!==error.response.status)throw error;setErrors(error.response.data.errors)})},login=async param=>{let{setErrors,setStatus,...props}=param;await csrf(),setErrors([]),setStatus(null),_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/login",props).then(()=>mutate()).catch(error=>{if(422!==error.response.status)throw error;setErrors(error.response.data.errors)})},forgotPassword=async param=>{let{setErrors,setStatus,email}=param;await csrf(),setErrors([]),setStatus(null),_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/forgot-password",{email}).then(response=>setStatus(response.data.status)).catch(error=>{if(422!==error.response.status)throw error;setErrors(error.response.data.errors)})},resetPassword=async param=>{let{setErrors,setStatus,...props}=param;await csrf(),setErrors([]),setStatus(null),_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/reset-password",{token:router.query.token,...props}).then(response=>router.push("/login?reset="+btoa(response.data.status))).catch(error=>{if(422!==error.response.status)throw error;setErrors(error.response.data.errors)})},resendEmailVerification=param=>{let{setStatus}=param;_lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/email/verification-notification").then(response=>setStatus(response.data.status))},logout=async()=>{error||await _lib_axios__WEBPACK_IMPORTED_MODULE_1__.Z.post("/logout").then(()=>mutate()),window.location.pathname="/login"};return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{"guest"===middleware&&redirectIfAuthenticated&&user&&router.push(redirectIfAuthenticated),"/verify-email"===window.location.pathname&&(null==user?void 0:user.email_verified_at)&&router.push(redirectIfAuthenticated),"auth"===middleware&&error&&logout()},[user,error]),{user,register,login,forgotPassword,resetPassword,resendEmailVerification,logout}}},5814:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);let axios=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"http://localhost",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});__webpack_exports__.Z=axios},8287:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Home}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),next_head__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9008),next_head__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__),next_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1664),next_link__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__),_hooks_auth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5190);function Home(){let{user}=(0,_hooks_auth__WEBPACK_IMPORTED_MODULE_3__.a)({middleware:"guest"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_head__WEBPACK_IMPORTED_MODULE_1___default(),{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("title",{children:"Laravel"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-top justify-center min-h-screen bg-gray-100 dark:bg-gray-900 sm:items-center sm:pt-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"px-6 py-4",children:user?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:"/main-page",className:"text-xl px-4 py-2 text-white bg-gray-600 rounded",children:"Main Page"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:"/login",className:"text-xl px-4 py-2 text-white bg-gray-600 rounded",children:"Login"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),{href:"/register",className:"ml-4 text-xl px-4 py-2 text-white bg-gray-600 rounded",children:"Register"})]})})})]})}}},function(__webpack_require__){__webpack_require__.O(0,[814,145,774,888,179],function(){return __webpack_require__(__webpack_require__.s=5557)}),_N_E=__webpack_require__.O()}]);